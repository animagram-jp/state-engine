common:
  name: "test_common"
  host: "localhost"
  port: 5432
  database: "common_db"
  username: "testuser"
  password: "testpass"
  _load:
    client: Env
    map:
      host: "DB_HOST"
      port: "DB_PORT"
      database: "DB_DATABASE"
      username: "DB_USERNAME"
      password: "DB_PASSWORD"

tenant:
  name: "tenant_${tenant_id}"
  host:
  port:
  database: "db_tenant${tenant_id}"
  username:
  password:
  _load:
    client: DB
    connection: common
    table: "tenants"
    where: "id=${tenant_id}"
    map:
      host: "db_host"
      port: "db_port"
      username: "db_username"
      password: "db_password"